<UserControl
    x:Class="MyShopClient.Views.Shared.PaginationControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:MyShopClient.Views.Shared"
    xmlns:viewmodels="using:MyShopClient.ViewModels">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="Auto"/>
        </Grid.ColumnDefinitions>

        <!-- Page Info Text -->
        <TextBlock 
            x:Name="PageInfoText"
            Grid.Column="0" 
            VerticalAlignment="Center" 
            Foreground="{ThemeResource TextSecondaryBrush}">
            <Run Text="Showing"/>
            <Run x:Name="PageStartRun" Foreground="{ThemeResource TextPrimaryBrush}"/>
            <Run Text="-"/>
            <Run x:Name="PageEndRun" Foreground="{ThemeResource TextPrimaryBrush}"/>
            <Run Text="of"/>
            <Run x:Name="TotalItemsRun" Foreground="{ThemeResource TextPrimaryBrush}"/>
            <Run x:Name="ItemsLabelRun" Text="items"/>
        </TextBlock>

        <!-- Page Size Selector -->
        <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="8" VerticalAlignment="Center" Margin="0,0,16,0">
            <TextBlock 
                Text="Rows per page:" 
                VerticalAlignment="Center" 
                Foreground="{ThemeResource TextSecondaryBrush}"/>
            <ComboBox 
                x:Name="PageSizeComboBox"
                SelectedItem="{x:Bind PageSize, Mode=TwoWay}"
                SelectionChanged="PageSizeComboBox_SelectionChanged"
                MinWidth="70"/>
        </StackPanel>

        <!-- Pagination Buttons -->
        <StackPanel Grid.Column="2" Orientation="Horizontal" Spacing="4">
            <!-- Previous Button -->
            <Button 
                x:Name="PreviousButton"
                Click="PreviousButton_Click"
                Style="{StaticResource PaginationButtonStyle}">
                <FontIcon Glyph="&#xE76B;" FontSize="14"/>
            </Button>
            
            <!-- Page Number Buttons -->
            <ItemsControl x:Name="PageNumbersControl">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <StackPanel Orientation="Horizontal" Spacing="4"/>
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>
                <ItemsControl.ItemTemplate>
                    <DataTemplate x:DataType="viewmodels:PageButtonModel">
                        <Button 
                            Content="{x:Bind DisplayText}"
                            Tag="{x:Bind PageNumber}"
                            Style="{StaticResource PaginationButtonStyle}"/>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
            
            <!-- Next Button -->
            <Button 
                x:Name="NextButton"
                Click="NextButton_Click"
                Style="{StaticResource PaginationButtonStyle}">
                <FontIcon Glyph="&#xE76C;" FontSize="14"/>
            </Button>
        </StackPanel>
    </Grid>
</UserControl>
